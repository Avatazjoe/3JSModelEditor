define(["require","lib/CommonUtil","THREE","module/SceneController","module/component/ModelFrame","module/util/ModelLoader","module/util/ModelFrameSet","module/GlobalVar"],function(e){"use strict";function f(){this._renderer=new n.WebGLRenderer,this._init()}var t=e("lib/CommonUtil"),n=e("THREE"),r=e("module/SceneController"),i=e("module/component/ModelFrame"),s=e("module/util/ModelLoader"),o=e("module/util/ModelFrameSet"),u=e("module/GlobalVar"),a=null;return f.prototype._init=function(){document.getElementById("RenderView").appendChild(this._renderer.domElement),a=new r(this._renderer.domElement),this._renderer.setSize(this._renderer.domElement.parentElement.clientWidth,window.innerHeight*.95),this._renderer.setClearColor(13158600,.85),this._renderer.shadowMap.enabled=!0,setTimeout(function(){u.frameRenderer.onWindowResize()},600)},f.prototype.loadLocalModelFiles=function(e){s.loadLocalFiles(e,this.onModelLoad)},f.prototype.loadUrlModelFiles=function(e){s.loadServerUrl(e,this.onModelLoad)},f.prototype.onModelLoad=function(e){if(!t.isDefined(e)){console.error("loadModelFile error");return}var n=new i(e);a.spawnModel(n),u.transformTool.attachModel(n)},f.prototype.onWindowResize=function(){a.onWindowResize(),this._renderer.setSize(this._renderer.domElement.parentElement.clientWidth,window.innerHeight*.95),this.render()},f.prototype.render=function(){requestAnimationFrame(this.render.bind(this)),a.update(),this._renderer.render(a.getRenderTarget().scene,a.getRenderTarget().camera)},f});