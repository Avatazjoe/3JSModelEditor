define(["require","exports","module","THREE","module/component/ModelSupport","module/util/ModelSupportSet","module/GlobalVar"],function(e,t){"use strict";function o(e,t){var i=s.sceneController.queryModelFrameByVector(e,(new n.Vector3(0,-1,0)).normalize());if(0!==i.length||3>e.y||a(e))return;var o=new r(e,t);t.addModelSupport(o),s.sceneController.spawnModelSupport(o)}function u(e){e.detachModel(),s.sceneController.disposeModelSupport(e)}function a(e){var t=new n.Vector3,r=new n.Vector3,s=i.getAllModelSupports();t.copy(e),t.y=0;for(var o=0,u=s.length;o<u;++o){r.copy(s[o].getPosition()),r.y=0;if(2>t.distanceTo(r))return!0}return!1}var n=e("THREE"),r=e("module/component/ModelSupport"),i=e("module/util/ModelSupportSet"),s=e("module/GlobalVar");t.addSupport=o,t.removeSupport=u});