define(["require","exports","module","lib/CommonUtil","THREE","module/GlobalVar","thirdLib/threejs/STLLoader","thirdLib/threejs/OBJLoader"],function(e,t){"use strict";function a(){s=new r.STLLoader}function f(){o=new r.OBJLoader}function l(e,t){if(!window.File||!window.FileReader||!window.FileList||!window.Blob){console.error("File APIs are not supported");return}if(!n.isDefined(e))return;if(!n.isDefined(s)||!n.isDefined(o))f(),a();var r=e[0],i=r.name.search(/\\*.stl/i),l=r.name.search(/\\*.obj/i);if(u===l&&l===i)return;var c=u===l?s:o,h=new FileReader;h.onload=function(e){var n=e.target.result;t(c.parse(n))},h.readAsArrayBuffer(r)}function c(e,t){if(!n.isDefined(s)||!n.isDefined(o))f(),a();var r=e.search(/\\*.stl/i),i=e.search(/\\*.obj/i);if(u===i&&i===r)return;var l=u===i?s:o;l.load(e,t)}var n=e("lib/CommonUtil"),r=e("THREE"),i=e("module/GlobalVar");e("thirdLib/threejs/STLLoader"),e("thirdLib/threejs/OBJLoader");var s=null,o=null,u=-1;t.loadLocalFiles=l,t.loadServerUrl=c});